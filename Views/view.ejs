<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      input {
        width: 180px;
        height: 20px;
      }

      label {
        font-size: 20px;
      }

      button {
        width: 80px;
        height: 30px;
        font-size: 15px;
        margin-left: 75%;
      }

      table {
        margin: auto;
        border: 1px solid black;
        border-collapse: collapse;
        background-color: bisque;
      }
      th {
        border: 1px solid black;
        padding-left: 80px;
        padding-right: 80px;
        font-size: 30px;
      }
      td {
        border: 1px solid black;
        padding-left: 80px;
        padding-right: 80px;
        font-size: 30px;
      }

      h2 {
        text-align: center;
        font-family: "Times New Roman", Times, serif;
      }

      .container {
        margin: auto;
        padding-top: 20px;
        padding-bottom: 20px;
        padding-left: 20px;
        margin-left: 600px;
        margin-right: 600px;
        border: 2px solid rgb(129, 139, 93);
        background-color: antiquewhite;
      }
    </style>

    <script src="jquery-3.6.0.min.js"></script>

  </head>
  <body style="background-color: rgb(172, 172, 105)">
    <h1><center>Here is Your Form</center></h1>
    <br />

    <div class="container">
      <form action="/" method="POST">
        <label>Name : </label>
        <input
          type="text"
          name="chomu"
          id="name"
          style="margin-left: 28px"
        /><br /><br />

        <label>Number :</label>
        <input
          type="text"
          name="number"
          id="number"
          style="margin-left: 12px"
        /><br /><br />

        <button type="submit" onclick="getData()"><b>Submit</b></button>
      </form>
    </div>
    <br /><br /><br /><br /><br /><br /><br />

    <h2>Details Provided By You</h2>
    

    <table id="tb">
      <tr>
        <th style="padding-left: 3px; padding-right: 3px">S.No.</th>
        <th>Name</th>
        <th>Number</th>
      </tr>

      <% if(button == "block") { %>
      <% showData.forEach(function(value,index){%>
        <tr>
          <td style="padding-left: 3px; padding-right: 3px"><%= index + 1 %></td>
          <td><%= value.dataValues.Name%></td>
          <td><%= value.dataValues.Number%></td>
        </tr>
        <% }) %>
        <% } %>
    </table>

    <script>
      function getData(){
      $.ajax({
        type: "POST", 
        url: "/", 
        data: "showData",
        success: function(s) {
          $("#tb").append("<tr><td>" + value.dataValues.Name + "</td><td>" + value.dataValues.Name + "</td></tr>")
        }, 
        error: function(err) { 
          console.log(err);
        } 
      }); 
    }
    </script>
  </body>
  
</html>
