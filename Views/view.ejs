<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
    src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
    crossorigin="anonymous"></script>
    <style>
      table {
        margin: auto;

        border: 1px solid black;

        border-collapse: collapse;
      }

      th {
        border: 1px solid black;

        padding-left: 80px;

        padding-right: 80px;

        font-size: 30px;
      }
      td {
        border: 1px solid black;

        padding-left: 80px;
        font-size: 30px;
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body style="background-color: rgb(172, 172, 105)">
    <h1><center>Here is Your Form</center></h1>
    <br />

    <div class="container">
      <form id="sumbitBtn">
        <label>Name : </label>
        <input type="text" name="name" id="name" style="margin-left: 28px" />
        <br />
        <br />

        <label>Number :</label>
        <input
          type="number"
          name="number"
          id="number"
          style="margin-left: 12px"
        />
        <br />
        <br />

        <input type="submit" value="submit" />
          <b>Submit</b>
        
      </form>
    </div>
    <br /><br /><br /><br /><br /><br /><br />

    

    <h2>Details Provided By You</h2>

    <table id="tb">
      <tr>
        <th style="padding-left: 3px; padding-right: 3px">S.No.</th>
        <th>Name</th>
        <th>Number</th>
      </tr>
      
      
      <% sData.forEach(function(value,index){%>

  <tr>        
      <td style="padding-left: 3px; padding-right: 3px"><%= index + 1 %></td>        
      <td><%= value.dataValues.Name%></td>        
      <td><%= value.dataValues.Number%></td>        
  </tr>
        
        Â 
        
  <% }) %>
        
      
      

    </table>

    <script>
      $("#sumbitBtn").on("submit",function(event){
        event.preventDefault();
        var str = $(this).serialize();
        console.log(str)
        $.ajax({
          method: "post",
          url: "/",
          data: str,
          success: function (s) {
            console.log("ajax jQuerey successfully worked");
            var finData = s//.showData[0].Name ;
            //var finNData = s.showData[0].Number ;
            //
            //function getFields(input, field) {
            //  var output = [];
            //  for (var i = 0; i < input.length; ++i)
            //  output.push(input[i][field]);
            //  return output;
            //}
            //var Names = getFields(finData, "Name");
            // 
            //function getFields(input, field) {
            //  var output = [];
            //  for (var i = 0; i < input.length; ++i)
            //  output.push(input[i][field]);
            //  return output;
            //}
            //var Numbers = getFields(finData, "Number");
            //console.log("sn",s)//finData)
            //console.log("snum",finNData)
            //console.log("Names",Names)
            //console.log("Number",Numbers)


            //for(var i=0;i<Names.length;i++){
           // $("#tb").append("<tr><td>"+ (+1) +"</td><td>" + finData + "</td><td>" + finNData + "</td></tr>");

              if(s.err){
                console.log("err")
              }else{
                console.log("no err",s)
              }

          },error: function (err) {
                        console.log(err);
            //            
                      }//}
        })
      })
//      function saveData() {
//        var str = $(this).serialize();
//        $.ajax({
//          url: "/",
//          method: "post",
//          dataType:"json",
//          data: {data:str},
//          success: function (s) {
//            console.log("ajax jQuerey successfully worked");
//            $("#tb").append("s");
//          },
//
//          error: function (err) {
//            console.log(err);
//            
//          },
//
//        });
//
//      }
    </script>
  </body>
</html>
